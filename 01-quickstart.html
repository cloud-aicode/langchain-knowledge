<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿«é€Ÿå…¥é—¨ - LangChain 1.0 çŸ¥è¯†ç‚¹</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body class="chapter-quickstart">
    <button class="theme-toggle">ğŸŒ“</button>
    <button class="mobile-menu-btn" onclick="toggleSidebar()">â˜°</button>

    <div class="app-container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1>LangChain 1.0</h1>
                <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem; margin-top: 5px;">çŸ¥è¯†ç‚¹</p>
            </div>
            <div class="sidebar-nav"></div>
        </nav>

        <main class="main-content">
            <div class="content">
                <h1>å¿«é€Ÿå…¥é—¨</h1>
                <p class="subtitle">10 åˆ†é’Ÿä¸Šæ‰‹ LangChain 1.0</p>

                <h2>ä»€ä¹ˆæ˜¯ LangChainï¼Ÿ</h2>
                <p>LangChain æ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼Œç”¨äºå¿«é€Ÿæ„å»ºç”±å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰é©±åŠ¨çš„åº”ç”¨ç¨‹åºã€‚å®ƒæä¾›ï¼š</p>
                <ul>
                    <li><strong>é¢„æ„å»ºæ¶æ„</strong>ï¼šæ™ºèƒ½ä½“å’Œåº”ç”¨çš„æ ‡å‡†ç»„ä»¶</li>
                    <li><strong>æ¨¡å‹é›†æˆ</strong>ï¼šç»Ÿä¸€æ¥å£è¿æ¥ OpenAIã€Anthropicã€Google ç­‰æ¨¡å‹</li>
                    <li><strong>å·¥å…·ç”Ÿæ€</strong>ï¼šä¸°å¯Œçš„å¤–éƒ¨æœåŠ¡é›†æˆ</li>
                    <li><strong>ç”Ÿäº§å°±ç»ª</strong>ï¼šè¢« Uberã€LinkedInã€Klarna ç­‰å¤§å…¬å¸éªŒè¯</li>
                </ul>

                <h2>å®‰è£…é…ç½®</h2>

                <h3>åŸºç¡€å®‰è£…</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">bash</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python"># æ ¸å¿ƒåŒ…
pip install langchain

# OpenAI é›†æˆ
pip install langchain-openai

# Anthropic é›†æˆ
pip install langchain-anthropic

# Google é›†æˆ
pip install langchain-google</code></pre>
                </div>

                <div class="note" data-label="æ³¨æ„">
                    LangChain 1.0 é‡æ–°è®¾è®¡äº†åŒ…æ¶æ„ã€‚æ ¸å¿ƒåŠŸèƒ½åœ¨ <code>langchain</code> åŒ…ä¸­ï¼Œæ ¸å¿ƒæ¥å£åœ¨ <code>langchain-core</code> ä¸­ã€‚æ—§ä»£ç è¢«ç§»è‡³ <code>langchain-classic</code>ã€‚
                </div>

                <h2>LangChain 1.0 åŒ…æ¶æ„</h2>

                <pre class="mermaid">graph TD
    A[langchain] --> B[ä¸»å…¥å£åŒ…]
    A --> C[æ™ºèƒ½ä½“å®ç°]
    A --> D[é¢„æ„å»ºç»„ä»¶]

    E[langchain-core] --> F[æ ¸å¿ƒæ¥å£]
    E --> G[RunnableæŠ½è±¡]
    E --> H[è·¨åŒ…åŸºç¡€ç±»å‹]

    I[langchain-classic] --> J[é—ç•™ä»£ç ]
    I --> K[å‘åå…¼å®¹]

    L[langchain-openai] --> M[OpenAIé›†æˆ]
    N[langchain-anthropic] --> O[Anthropicé›†æˆ]
    P[langchain-google] --> Q[Googleé›†æˆ]</code></pre>

                <table class="comparison-table">
                    <tr>
                        <th>åŒ…å</th>
                        <th>ç”¨é€”</th>
                        <th>å¿…éœ€</th>
                    </tr>
                    <tr>
                        <td><code>langchain</code></td>
                        <td>ä¸»å…¥å£ï¼ŒåŒ…å«æ‰€æœ‰ LLM åº”ç”¨å®ç°</td>
                        <td>âœ“ å¿…éœ€</td>
                    </tr>
                    <tr>
                        <td><code>langchain-core</code></td>
                        <td>æ ¸å¿ƒæ¥å£å’ŒæŠ½è±¡</td>
                        <td>âœ“ å¿…éœ€ï¼ˆè‡ªåŠ¨å®‰è£…ï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>langchain-openai</code></td>
                        <td>OpenAI æ¨¡å‹é›†æˆ</td>
                        <td>å¯é€‰</td>
                    </tr>
                    <tr>
                        <td><code>langchain-anthropic</code></td>
                        <td>Anthropic æ¨¡å‹é›†æˆ</td>
                        <td>å¯é€‰</td>
                    </tr>
                    <tr>
                        <td><code>langchain-classic</code></td>
                        <td>é—ç•™çš„ 0.1.x ç‰ˆæœ¬ä»£ç </td>
                        <td>å¯é€‰ï¼ˆè¿ç§»æ—¶ä½¿ç”¨ï¼‰</td>
                    </tr>
                </table>

                <h2>ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“</h2>
                <p>LangChain 1.0 å¼•å…¥æ–°çš„ <code>create_agent</code> æ–¹æ³•ï¼Œç®€åŒ–æ™ºèƒ½ä½“åˆ›å»ºï¼š</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">python</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python">import os
from langchain import ChatOpenAI
from langchain.agents import create_tool_calling_agent, Tool
from langchain_core.tools import tool

# 1. è®¾ç½® API Key
os.environ["OPENAI_API_KEY"] = "your-api-key"

# 2. å®šä¹‰å·¥å…·
@tool
def get_weather(location: str) -> str:
    """è·å–æŒ‡å®šä½ç½®çš„å¤©æ°”ä¿¡æ¯"""
    return f"{location}ä»Šå¤©å¤©æ°”æ™´æœ—ï¼Œæ¸©åº¦ 25Â°C"

@tool
def calculate(expression: str) -> str:
    """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼"""
    try:
        result = eval(expression)
        return f"ç»“æœ: {result}"
    except:
        return "è®¡ç®—é”™è¯¯"

# 3. åˆ›å»ºæ¨¡å‹
llm = ChatOpenAI(model="gpt-4o", temperature=0)

# 4. åˆ›å»ºæ™ºèƒ½ä½“
tools = [get_weather, calculate]
agent = create_tool_calling_agent(
    llm,
    tools,
    system_prompt="ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹ï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·å›ç­”é—®é¢˜ã€‚"
)

# 5. è¿è¡Œæ™ºèƒ½ä½“
response = agent.invoke({
    "messages": [
        {"role": "user", "content": "åŒ—äº¬ä»Šå¤©çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"}
    ]
})

print(response["messages"][-1].content)</code></pre>
                </div>

                <div class="tip" data-label="æç¤º">
                    <code>create_tool_calling_agent</code> æ˜¯ LangChain 1.0 æ¨èçš„åˆ›å»ºæ™ºèƒ½ä½“çš„æ ‡å‡†æ–¹å¼ï¼Œå®ƒä¼šè‡ªåŠ¨ä¸ºæ¨¡å‹å¯ç”¨å·¥å…·è°ƒç”¨åŠŸèƒ½ã€‚
                </div>

                <h2>æ™ºèƒ½ä½“æ‰§è¡Œæµç¨‹</h2>

                <pre class="mermaid">sequenceDiagram
    participant U as ç”¨æˆ·
    participant A as Agent
    participant LLM as LLM
    participant T as å·¥å…·

    U->>A: å‘é€æ¶ˆæ¯
    A->>LLM: è°ƒç”¨æ¨¡å‹(å¸¦å·¥å…·å®šä¹‰)
    LLM->>A: è¿”å›å·¥å…·è°ƒç”¨è¯·æ±‚
    A->>T: æ‰§è¡Œå·¥å…·
    T->>A: è¿”å›å·¥å…·ç»“æœ
    A->>LLM: å°†ç»“æœä¼ å›æ¨¡å‹
    LLM->>A: ç”Ÿæˆæœ€ç»ˆå›å¤
    A->>U: è¿”å›å“åº”</code></pre>

                <h2>v1.0 ä¸»è¦å˜åŒ–</h2>

                <table class="comparison-table">
                    <tr>
                        <th>æ–¹é¢</th>
                        <th>v0.1.x</th>
                        <th>v1.0</th>
                    </tr>
                    <tr>
                        <td>æ™ºèƒ½ä½“åˆ›å»º</td>
                        <td><code>initialize_agent</code></td>
                        <td><code>create_agent</code> / <code>create_tool_calling_agent</code></td>
                    </tr>
                    <tr>
                        <td>é“¾å®šä¹‰</td>
                        <td><code>LLMChain</code></td>
                        <td><code>|</code> è¯­æ³• (LCEL)</td>
                    </tr>
                    <tr>
                        <td>æ¨¡å‹å¯¼å…¥</td>
                        <td><code>langchain.llms</code></td>
                        <td><code>langchain_openai</code> ç­‰</td>
                    </tr>
                    <tr>
                        <td>å·¥å…·å®šä¹‰</td>
                        <td><code>Tool.from_function</code></td>
                        <td><code>@tool</code> è£…é¥°å™¨</td>
                    </tr>
                    <tr>
                        <td>é—ç•™ä»£ç </td>
                        <td>æ··åœ¨ä¸»åŒ…ä¸­</td>
                        <td>ç§»è‡³ <code>langchain-classic</code></td>
                    </tr>
                </table>

                <h2>åŸºç¡€æ¦‚å¿µé€Ÿè§ˆ</h2>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                    <div style="padding: 15px; background: rgba(59, 130, 246, 0.1); border-radius: 10px;">
                        <div style="font-size: 1.5rem;">ğŸ¤–</div>
                        <div style="font-weight: 600; margin-top: 8px;">Models</div>
                        <div style="font-size: 0.85rem; color: rgba(0,0,0,0.6);">LLM å’Œ ChatModel ç»Ÿä¸€æ¥å£</div>
                    </div>
                    <div style="padding: 15px; background: rgba(139, 92, 246, 0.1); border-radius: 10px;">
                        <div style="font-size: 1.5rem;">ğŸ’¬</div>
                        <div style="font-weight: 600; margin-top: 8px;">Prompts</div>
                        <div style="font-size: 0.85rem; color: rgba(0,0,0,0.6);">æç¤ºæ¨¡æ¿å’Œè¾“å‡ºè§£æ</div>
                    </div>
                    <div style="padding: 15px; background: rgba(16, 185, 129, 0.1); border-radius: 10px;">
                        <div style="font-size: 1.5rem;">â›“ï¸</div>
                        <div style="font-weight: 600; margin-top: 8px;">Chains</div>
                        <div style="font-size: 0.85rem; color: rgba(0,0,0,0.6);">ç”¨ LCEL ç¼–æ’å·¥ä½œæµ</div>
                    </div>
                    <div style="padding: 15px; background: rgba(245, 158, 11, 0.1); border-radius: 10px;">
                        <div style="font-size: 1.5rem;">ğŸ¯</div>
                        <div style="font-weight: 600; margin-top: 8px;">Agents</div>
                        <div style="font-size: 0.85rem; color: rgba(0,0,0,0.6);">è‡ªä¸»å†³ç­–çš„æ™ºèƒ½ä½“</div>
                    </div>
                    <div style="padding: 15px; background: rgba(239, 68, 68, 0.1); border-radius: 10px;">
                        <div style="font-size: 1.5rem;">ğŸ”§</div>
                        <div style="font-weight: 600; margin-top: 8px;">Tools</div>
                        <div style="font-size: 0.85rem; color: rgba(0,0,0,0.6);">å¤–éƒ¨åŠŸèƒ½é›†æˆ</div>
                    </div>
                    <div style="padding: 15px; background: rgba(6, 182, 212, 0.1); border-radius: 10px;">
                        <div style="font-size: 1.5rem;">ğŸ§ </div>
                        <div style="font-weight: 600; margin-top: 8px;">Memory</div>
                        <div style="font-size: 0.85rem; color: rgba(0,0,0,0.6);">å¯¹è¯çŠ¶æ€ç®¡ç†</div>
                    </div>
                </div>

                <h2>ä¸‹ä¸€æ­¥</h2>
                <ul>
                    <li>ğŸ“– å­¦ä¹  <a href="02-models.html" style="color: var(--primary-color);">æ¨¡å‹æ¨¡å—</a>ï¼šæ·±å…¥äº†è§£æ¨¡å‹ä½¿ç”¨</li>
                    <li>ğŸ’¬ å­¦ä¹  <a href="03-prompts.html" style="color: var(--primary-color);">æç¤ºå·¥ç¨‹</a>ï¼šæŒæ¡æç¤ºæŠ€å·§</li>
                    <li>â›“ï¸ å­¦ä¹  <a href="04-chains.html" style="color: var(--primary-color);">é“¾å¼è°ƒç”¨</a>ï¼šæ„å»ºå¤æ‚æµç¨‹</li>
                </ul>

                <div class="exercise-section">
                    <h3>âœï¸ ç»ƒä¹ é¢˜</h3>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">é€‰æ‹©é¢˜</span>
                            1. LangChain 1.0 ä¸­åˆ›å»ºæ™ºèƒ½ä½“çš„æ¨èæ–¹æ³•æ˜¯ï¼Ÿ
                        </div>
                        <div class="options">
                            <div class="option" onclick="this.classList.toggle('selected')">A. initialize_agent</div>
                            <div class="option" onclick="this.classList.toggle('selected')">B. create_agent</div>
                            <div class="option" onclick="this.classList.toggle('selected')">C. AgentExecutor</div>
                            <div class="option" onclick="this.classList.toggle('selected')">D. LLMSingleActionAgent</div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">é€‰æ‹©é¢˜</span>
                            2. ä»¥ä¸‹å“ªä¸ªåŒ…æ˜¯ LangChain 1.0 çš„æ ¸å¿ƒå…¥å£åŒ…ï¼Ÿ
                        </div>
                        <div class="options">
                            <div class="option" onclick="this.classList.toggle('selected')">A. langchain-core</div>
                            <div class="option correct-option onclick="this.classList.toggle('selected')">B. langchain</div>
                            <div class="option" onclick="this.classList.toggle('selected')">C. langchain-community</div>
                            <div class="option" onclick="this.classList.toggle('selected')">D. langchain-classic</div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">ä»£ç å¡«ç©º</span>
                            3. è¡¥å…¨ä»¥ä¸‹ä»£ç ï¼Œåˆ›å»ºä¸€ä¸ª OpenAI æ¨¡å‹å®ä¾‹
                        </div>
                        <div class="code-block">
                            <div class="code-header">
                                <span class="code-language">python</span>
                                <button class="copy-btn">å¤åˆ¶</button>
                            </div>
                            <pre><code class="language-python">from langchain________ ChatOpenAI

llm = ChatOpenAI________="gpt-4o"</code></pre>
                        </div>
                        <details style="margin-top: 10px;">
                            <summary style="cursor: pointer; color: var(--primary-color);">æŸ¥çœ‹ç­”æ¡ˆ</summary>
                            <div class="code-block" style="margin-top: 10px;">
                                <pre><code class="language-python">from langchain import ChatOpenAI

llm = ChatOpenAI(model="gpt-4o")</code></pre>
                            </div>
                        </details>
                    </div>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">ç¼–ç¨‹é¢˜</span>
                            4. åˆ›å»ºä¸€ä¸ªç®€å•çš„æ™ºèƒ½ä½“ï¼ŒåŒ…å«ä¸¤ä¸ªå·¥å…·ï¼šè·å–å½“å‰æ—¶é—´å’Œè®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ
                        </div>
                        <details style="margin-top: 10px;">
                            <summary style="cursor: pointer; color: var(--primary-color);">æŸ¥çœ‹å‚è€ƒç­”æ¡ˆ</summary>
                            <div class="code-block" style="margin-top: 10px;">
                                <div class="code-header">
                                    <span class="code-language">python</span>
                                    <button class="copy-btn">å¤åˆ¶</button>
                                </div>
                                <pre><code class="language-python">from langchain import ChatOpenAI
from langchain.agents import create_tool_calling_agent
from langchain_core.tools import tool
from datetime import datetime

@tool
def get_current_time() -> str:
    """è·å–å½“å‰æ—¶é—´"""
    return datetime.now().strftime("%Y-%m-%d %H:%M:%S")

@tool
def add_numbers(a: int, b: int) -> int:
    """è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ"""
    return a + b

llm = ChatOpenAI(model="gpt-4o")
tools = [get_current_time, add_numbers]

agent = create_tool_calling_agent(
    llm,
    tools,
    system_prompt="ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹ã€‚"
)

# æµ‹è¯•
response = agent.invoke({
    "messages": [
        {"role": "user", "content": "ç°åœ¨å‡ ç‚¹äº†ï¼Ÿ"}
    ]
})
print(response["messages"][-1].content)</code></pre>
                            </div>
                        </details>
                    </div>
                </div>

                <nav class="chapter-nav">
                    <a href="index.html" class="prev">â† è¿”å›ç›®å½•</a>
                    <a href="02-models.html" class="next">æ¨¡å‹æ¨¡å— â†’</a>
                </nav>
            </div>
        </main>
    </div>

    <script src="assets/js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</body>
</html>