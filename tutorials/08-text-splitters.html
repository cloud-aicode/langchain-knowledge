<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡æœ¬åˆ†å‰² - LangChain 1.0 çŸ¥è¯†ç‚¹</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body class="chapter-text-splitters">
    <button class="theme-toggle">ğŸŒ“</button>
    <button class="mobile-menu-btn" onclick="toggleSidebar()">â˜°</button>

    <div class="app-container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1><a href="../index.html" style="color: white; text-decoration: none;">LangChain 1.0</a></h1>
                <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem; margin-top: 5px;">çŸ¥è¯†ç‚¹</p>
            </div>
            <div class="sidebar-nav"></div>
        </nav>

        <main class="main-content">
            <div class="content">
                <h1>æ–‡æœ¬åˆ†å‰²</h1>
                <p class="subtitle">å°†é•¿æ–‡æ¡£åˆ‡åˆ†æˆé€‚åˆæ£€ç´¢çš„å°å—</p>

                <h2>ä¸ºä»€ä¹ˆéœ€è¦æ–‡æœ¬åˆ†å‰²ï¼Ÿ</h2>
                <p>åœ¨ RAG åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥æŠŠæ•´ä¸ªæ–‡æ¡£å¡ç»™ LLMã€‚åŸå› å¾ˆç®€å•ï¼š</p>
                <ul>
                    <li><strong>ä¸Šä¸‹æ–‡é™åˆ¶</strong>ï¼šLLM æœ‰è¾“å…¥ token é™åˆ¶ï¼ˆå¦‚ GPT-4 æ˜¯ 128K tokensï¼‰</li>
                    <li><strong>æ£€ç´¢ç²¾åº¦</strong>ï¼šå°å—å†…å®¹æ›´å®¹æ˜“ç²¾å‡†åŒ¹é…ç”¨æˆ·æŸ¥è¯¢</li>
                    <li><strong>æˆæœ¬æ§åˆ¶</strong>ï¼šå¤„ç†å°å—å†…å®¹æ¯”å¤„ç†å¤§æ–‡æ¡£æ›´ä¾¿å®œ</li>
                    <li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå°å—å†…å®¹çš„å‘é‡æ£€ç´¢æ›´å¿«</li>
                </ul>

                <div class="tip" data-label="æç¤º">
                    æ–‡æœ¬åˆ†å‰²å°±åƒæŠŠä¸€æœ¬ä¹¦æ‹†æˆç« èŠ‚å’Œæ®µè½â€”â€”è®©è¯»è€…ï¼ˆLLMï¼‰èƒ½å¿«é€Ÿæ‰¾åˆ°ç›¸å…³å†…å®¹ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½è¦ç¿»å®Œæ•´æœ¬ä¹¦ã€‚
                </div>

                <h2>åˆ†å‰²ç­–ç•¥å¯¹æ¯”</h2>

                <pre class="mermaid">graph TD
    A[æ–‡æ¡£åˆ†å‰²] --> B{åˆ†å‰²æ–¹å¼?}
    B -->|å›ºå®šé•¿åº¦| C[CharacterTextSplitter]
    B -->|é€’å½’åˆ†å‰²| D[RecursiveCharacterTextSplitter]
    B -->|è¯­ä¹‰åˆ†å‰²| E[SemanticTextSplitter]
    B -->|ä»£ç åˆ†å‰²| F[CodeTextSplitter]

    C --> C1[æŒ‰å­—ç¬¦æ•°åˆ‡åˆ†]
    D --> D1[ä¼˜å…ˆæ®µè½/å¥å­]
    E --> E1[æŒ‰è¯­ä¹‰è¾¹ç•Œ]
    F --> F1[æŒ‰ä»£ç ç»“æ„]

    style D fill:#c8e6c9
    style E fill:#fff9c4</code></pre>

                <div class="comparison-table">
                    <tr>
                        <th>åˆ†å‰²å™¨ç±»å‹</th>
                        <th>åŸç†</th>
                        <th>ä¼˜ç‚¹</th>
                        <th>ç¼ºç‚¹</th>
                        <th>é€‚ç”¨åœºæ™¯</th>
                    </tr>
                    <tr>
                        <td><code>CharacterTextSplitter</code></td>
                        <td>æŒ‰å›ºå®šå­—ç¬¦æ•°</td>
                        <td>ç®€å•å¯æ§</td>
                        <td>å¯èƒ½æˆªæ–­å¥å­</td>
                        <td>ç®€å•æ–‡æœ¬</td>
                    </tr>
                    <tr>
                        <td><code>RecursiveCharacterTextSplitter</code></td>
                        <td>é€’å½’æŸ¥æ‰¾åˆ†éš”ç¬¦</td>
                        <td>ä¿æŒè¯­ä¹‰å®Œæ•´</td>
                        <td>é€Ÿåº¦ç¨æ…¢</td>
                        <td>å¤§å¤šæ•°æ–‡æ¡£ï¼ˆæ¨èï¼‰</td>
                    </tr>
                    <tr>
                        <td><code>SemanticTextSplitter</code></td>
                        <td>æŒ‰è¯­ä¹‰ç›¸ä¼¼åº¦</td>
                        <td>è¯­ä¹‰æœ€ä½³</td>
                        <td>éœ€è¦é¢å¤–æ¨¡å‹</td>
                        <td>é‡è¦æ–‡æ¡£</td>
                    </tr>
                    <tr>
                        <td><code>CodeTextSplitter</code></td>
                        <td>æŒ‰ä»£ç ç»“æ„</td>
                        <td>ä¿ç•™ä»£ç é€»è¾‘</td>
                        <td>ä»…é™ä»£ç </td>
                        <td>ä»£ç æ–‡æ¡£</td>
                    </tr>
                </table>

                <h2>RecursiveCharacterTextSplitterï¼ˆæ¨èï¼‰</h2>
                <p>è¿™æ˜¯æœ€å¸¸ç”¨çš„åˆ†å‰²å™¨ï¼Œå®ƒä¼šé€’å½’åœ°å°è¯•ä¸åŒçš„åˆ†éš”ç¬¦ï¼Œä¼˜å…ˆä¿æŒè¯­ä¹‰å®Œæ•´ï¼š</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">python</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python">from langchain_text_splitters import RecursiveCharacterTextSplitter

# åˆ›å»ºåˆ†å‰²å™¨
text_splitter = RecursiveCharacterTextSplitter(
    # æ¯ä¸ªæ–‡æœ¬å—çš„æœ€å¤§å­—ç¬¦æ•°
    chunk_size=1000,

    # æ–‡æœ¬å—ä¹‹é—´çš„é‡å å­—ç¬¦æ•°ï¼ˆé‡è¦ï¼é¿å…ä¸¢å¤±ä¸Šä¸‹æ–‡ï¼‰
    chunk_overlap=200,

    # åˆ†éš”ç¬¦åˆ—è¡¨ï¼ŒæŒ‰ä¼˜å…ˆçº§é¡ºåºå°è¯•
    separators=["\n\n", "\n", "ã€‚", "ï¼", "ï¼Ÿ", ".", " ", ""],

    # åˆ†å‰²åçš„æ–‡æœ¬å—é•¿åº¦æ£€æŸ¥å‡½æ•°
    length_function=len,

    # æ˜¯å¦åŒ…å«åˆ†éš”ç¬¦åœ¨åˆ†å‰²ç»“æœä¸­
    keep_separator=True
)

# ç¤ºä¾‹æ–‡æœ¬
text = """
LangChain æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ LLM åº”ç”¨å¼€å‘æ¡†æ¶ã€‚
å®ƒæä¾›äº†ä¸°å¯Œçš„å·¥å…·å’Œç»„ä»¶ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºåº”ç”¨ã€‚

ç¬¬ä¸€éƒ¨åˆ†ï¼šæ¨¡å‹é›†æˆ
LangChain æ”¯æŒå¤šç§æ¨¡å‹ï¼ŒåŒ…æ‹¬ OpenAIã€Anthropicã€Google ç­‰ã€‚
å¼€å‘è€…å¯ä»¥è½»æ¾åˆ‡æ¢ä¸åŒçš„æ¨¡å‹æä¾›å•†ã€‚

ç¬¬äºŒéƒ¨åˆ†ï¼šé“¾å¼è°ƒç”¨
é€šè¿‡ LCELï¼ˆLangChain Expression Languageï¼‰ï¼Œ
å¼€å‘è€…å¯ä»¥ç”¨å£°æ˜å¼çš„æ–¹å¼æ„å»ºå¤æ‚çš„è°ƒç”¨é“¾ã€‚
"""

# æ‰§è¡Œåˆ†å‰²
chunks = text_splitter.split_text(text)

# æŸ¥çœ‹ç»“æœ
for i, chunk in enumerate(chunks, 1):
    print(f"--- å— {i} ({len(chunk)} å­—ç¬¦) ---")
    print(chunk)
    print()</code></pre>
                </div>

                <div class="note" data-label="å…³äºé‡å ">
                    <code>chunk_overlap</code> æ˜¯å…³é”®å‚æ•°ï¼è®¾ç½® 10-20% çš„é‡å å¯ä»¥ç¡®ä¿é‡è¦ä¿¡æ¯ä¸ä¼šè¢«æˆªæ–­ã€‚ä¾‹å¦‚ï¼Œ1000 å­—ç¬¦çš„å—å¯ä»¥è®¾ç½® 200 å­—ç¬¦çš„é‡å ã€‚
                </div>

                <h2>ç›´æ¥åˆ†å‰² Document å¯¹è±¡</h2>
                <p>å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ç›´æ¥å¤„ç†ä» Loader åŠ è½½çš„ Document å¯¹è±¡ï¼š</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">python</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python">from langchain_community.document_loaders import PyPDFLoader
from langchain_text_splitters import RecursiveCharacterTextSplitter

# 1. åŠ è½½æ–‡æ¡£
loader = PyPDFLoader("large-document.pdf")
documents = loader.load()

print(f"åŠ è½½äº† {len(documents)} é¡µ")

# 2. åˆ›å»ºåˆ†å‰²å™¨
text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=1000,
    chunk_overlap=200,
    separators=["\n\n", "\n", "ã€‚", " ", ""]
)

# 3. åˆ†å‰²æ–‡æ¡£
splits = text_splitter.split_documents(documents)

print(f"åˆ†å‰²æˆ {len(splits)} ä¸ªæ–‡æœ¬å—")

# 4. æŸ¥çœ‹åˆ†å‰²ç»“æœ
for i, split in enumerate(splits[:3], 1):
    print(f"\n--- å— {i} ---")
    print(f"æ¥æº: {split.metadata['source']}")
    print(f"é¡µç : {split.metadata['page']}")
    print(f"å†…å®¹é•¿åº¦: {len(split.page_content)}")
    print(f"å†…å®¹: {split.page_content[:100]}...")</code></pre>
                </div>

                <h2>CharacterTextSplitter</h2>
                <p>æœ€ç®€å•çš„åˆ†å‰²å™¨ï¼ŒæŒ‰å›ºå®šå­—ç¬¦æ•°åˆ‡åˆ†ï¼š</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">python</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python">from langchain_text_splitters import CharacterTextSplitter

# ç®€å•åˆ†å‰²å™¨
text_splitter = CharacterTextSplitter(
    chunk_size=1000,
    chunk_overlap=0,  # é€šå¸¸ä¸è®¾ç½®é‡å 
    separator="\n\n",  # åªä½¿ç”¨ä¸€ä¸ªåˆ†éš”ç¬¦
    length_function=len
)

# åˆ†å‰²æ–‡æœ¬
text = "è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æ–‡æœ¬..." * 100
chunks = text_splitter.split_text(text)

print(f"åˆ†å‰²æˆ {len(chunks)} ä¸ªå—")</code></pre>
                </div>

                <div class="warning" data-label="è­¦å‘Š">
                    <code>CharacterTextSplitter</code> å¯èƒ½ä¼šåœ¨å¥å­ä¸­é—´æˆªæ–­ï¼Œå½±å“è¯­ä¹‰ç†è§£ã€‚å»ºè®®ä¼˜å…ˆä½¿ç”¨ <code>RecursiveCharacterTextSplitter</code>ã€‚
                </div>

                <h2>SemanticTextSplitterï¼ˆè¯­ä¹‰åˆ†å‰²ï¼‰</h2>
                <p>åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦åˆ†å‰²ï¼Œç¡®ä¿æ¯ä¸ªå—å†…éƒ¨è¯­ä¹‰è¿è´¯ï¼š</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">python</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python">from langchain_experimental.text_splitter import SemanticTextSplitter
from langchain_openai import OpenAIEmbeddings

# éœ€è¦åµŒå…¥æ¨¡å‹æ¥è®¡ç®—è¯­ä¹‰ç›¸ä¼¼åº¦
embeddings = OpenAIEmbeddings()

text_splitter = SemanticTextSplitter(
    embeddings=embeddings,
    # æ¯ä¸ªå—çš„æœ€å¤§å­—ç¬¦æ•°
    chunk_size=1000,
    # ç›¸é‚»å—ä¹‹é—´çš„ç›¸ä¼¼åº¦é˜ˆå€¼
    breakpoint_threshold_type="percentile",  # æˆ– "standard_deviation"
    breakpoint_threshold_amount=0.6
)

# åˆ†å‰²æ–‡æ¡£
documents = loader.load()
splits = text_splitter.split_documents(documents)

# è¯­ä¹‰åˆ†å‰²ä¼šåœ¨è¯­ä¹‰å˜åŒ–å¤„åˆ‡åˆ†ï¼Œè€Œä¸æ˜¯å›ºå®šä½ç½®
for i, split in enumerate(splits, 1):
    print(f"å— {i}: {len(split.page_content)} å­—ç¬¦")</code></pre>
                </div>

                <div class="tip" data-label="ä½¿ç”¨å»ºè®®">
                    è¯­ä¹‰åˆ†å‰²è´¨é‡æœ€é«˜ï¼Œä½†éœ€è¦é¢å¤–çš„ API è°ƒç”¨ï¼ˆåµŒå…¥æ¨¡å‹ï¼‰ï¼Œæˆæœ¬è¾ƒé«˜ã€‚å»ºè®®ç”¨äºï¼š
                    <ul>
                        <li>é‡è¦æ–‡æ¡£çš„ç²¾ç»†åˆ†å‰²</li>
                        <li>å¯¹æ£€ç´¢è´¨é‡è¦æ±‚æé«˜çš„åœºæ™¯</li>
                        <li>æ–‡æ¡£å†…å®¹å¤æ‚ã€å±‚æ¬¡åˆ†æ˜çš„åœºæ™¯</li>
                    </ul>
                </div>

                <h2>ä»£ç åˆ†å‰²</h2>
                <p>é’ˆå¯¹ä»£ç æ–‡ä»¶çš„ç‰¹æ®Šåˆ†å‰²å™¨ï¼Œä¿æŒä»£ç ç»“æ„å®Œæ•´ï¼š</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">python</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python">from langchain_text_splitters import (
    PythonCodeTextSplitter,
    JavaScriptTextSplitter,
    RecursiveCharacterTextSplitter
)

# Python ä»£ç åˆ†å‰²å™¨
python_splitter = PythonCodeTextSplitter(
    chunk_size=1000,
    chunk_overlap=100
)

# ç¤ºä¾‹ Python ä»£ç 
python_code = '''
def calculate_fibonacci(n):
    """è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—"""
    if n <= 1:
        return n
    return calculate_fibonacci(n-1) + calculate_fibonacci(n-2)

class FibonacciCalculator:
    def __init__(self):
        self.cache = {}

    def get(self, n):
        if n not in self.cache:
            self.cache[n] = calculate_fibonacci(n)
        return self.cache[n]
'''

# åˆ†å‰²ä»£ç 
code_docs = python_splitter.create_documents([python_code])

for doc in code_docs:
    print(f"--- ä»£ç å— ---")
    print(doc.page_content)
    print()

# æˆ–è€…ä½¿ç”¨é€šç”¨ä»£ç åˆ†å‰²å™¨
code_splitter = RecursiveCharacterTextSplitter(
    chunk_size=1000,
    chunk_overlap=100,
    # ä»£ç å‹å¥½çš„åˆ†éš”ç¬¦
    separators=["\nclass ", "\ndef ", "\n\t", "\n", " ", ""]
)</code></pre>
                </div>

                <h2>Markdown åˆ†å‰²</h2>
                <p>ä¿æŒ Markdown æ–‡æ¡£ç»“æ„çš„åˆ†å‰²å™¨ï¼š</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">python</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python">from langchain_text_splitters import MarkdownHeaderTextSplitter

markdown_document = """
# ç¬¬ä¸€ç« ï¼šä»‹ç»

LangChain æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¡†æ¶ã€‚

## 1.1 æ ¸å¿ƒæ¦‚å¿µ

- æ¨¡å‹ï¼ˆModelsï¼‰
- æç¤ºï¼ˆPromptsï¼‰
- é“¾ï¼ˆChainsï¼‰

# ç¬¬äºŒç« ï¼šå¿«é€Ÿå¼€å§‹

å®‰è£… LangChainï¼š

\`\`\`bash
pip install langchain
\`\`\`

## 2.1 ç¬¬ä¸€ä¸ªåº”ç”¨

åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª LangChain åº”ç”¨...
"""

# æŒ‰æ ‡é¢˜åˆ†å‰²
markdown_splitter = MarkdownHeaderTextSplitter(
    headers_to_split_on=[
        ("#", "Header 1"),
        ("##", "Header 2"),
        ("###", "Header 3"),
    ]
)

md_splits = markdown_splitter.split_text(markdown_document)

# æŸ¥çœ‹åˆ†å‰²ç»“æœ
for split in md_splits:
    print(f"--- å— ---")
    print(f"å…ƒæ•°æ®: {split.metadata}")
    print(f"å†…å®¹: {split.page_content[:50]}...")
    print()</code></pre>
                </div>

                <h2>å‚æ•°è°ƒä¼˜æŒ‡å—</h2>

                <h3>chunk_size çš„é€‰æ‹©</h3>

                <div class="comparison-table">
                    <tr>
                        <th>chunk_size</th>
                        <th>é€‚ç”¨åœºæ™¯</th>
                        <th>ä¼˜ç¼ºç‚¹</th>
                    </tr>
                    <tr>
                        <td>256-500</td>
                        <td>é—®ç­”ç³»ç»Ÿã€ç²¾ç¡®åŒ¹é…</td>
                        <td>âœ“ ç²¾åº¦é«˜ &nbsp; âœ— å¯èƒ½ä¸¢å¤±ä¸Šä¸‹æ–‡</td>
                    </tr>
                    <tr>
                        <td>500-1000</td>
                        <td>ä¸€èˆ¬ RAG åº”ç”¨</td>
                        <td>âœ“ å¹³è¡¡ &nbsp; âœ— éœ€è¦è°ƒä¼˜</td>
                    </tr>
                    <tr>
                        <td>1000-2000</td>
                        <td>æ–‡æ¡£æ‘˜è¦ã€é•¿ç¯‡æ£€ç´¢</td>
                        <td>âœ“ ä¸Šä¸‹æ–‡ä¸°å¯Œ &nbsp; âœ— å™ªéŸ³è¾ƒå¤š</td>
                    </tr>
                    <tr>
                        <td>2000+</td>
                        <td>å®Œæ•´ç« èŠ‚æ£€ç´¢</td>
                        <td>âœ“ å®Œæ•´æ€§å¥½ &nbsp; âœ— æ£€ç´¢ç²¾åº¦ä½</td>
                    </tr>
                </table>

                <h3>chunk_overlap çš„è®¾ç½®</h3>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">python</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python"># æ¨èé‡å æ¯”ä¾‹ï¼š10-20%
chunk_size = 1000
chunk_overlap = 200  # 20%

# å¯¹äºéœ€è¦æ›´å¤šä¸Šä¸‹æ–‡çš„åœºæ™¯
chunk_size = 2000
chunk_overlap = 400  # 20%

# å¯¹äºç²¾ç¡®åŒ¹é…åœºæ™¯ï¼Œå¯ä»¥å‡å°‘é‡å 
chunk_size = 500
chunk_overlap = 50   # 10%</code></pre>
                </div>

                <h2>åˆ†å‰²æ•ˆæœå¯è§†åŒ–</h2>

                <pre class="mermaid">graph LR
    A[åŸå§‹æ–‡æ¡£] --> B[chunk_size=1000]
    B --> C[chunk_overlap=200]

    C --> D1[å—1: 0-1000]
    C --> D2[å—2: 800-1800]
    C --> D3[å—3: 1600-2600]

    D1 -.é‡å .-> D2
    D2 -.é‡å .-> D3

    style D1 fill:#c8e6c9
    style D2 fill:#c8e6c9
    style D3 fill:#c8e6c9</code></pre>

                <h2>æœ€ä½³å®è·µ</h2>

                <div class="practice" data-label="å®è·µå»ºè®®">
                    <h3>1. ä» RecursiveCharacterTextSplitter å¼€å§‹</h3>
                    <ul>
                        <li>å®ƒæ˜¯å¤§å¤šæ•°åœºæ™¯çš„æœ€ä½³é€‰æ‹©</li>
                        <li>ä¿æŒè¯­ä¹‰å®Œæ•´æ€§å’Œå¯è¯»æ€§</li>
                        <li>è°ƒæ•´ separators ä»¥é€‚åº”ä¸åŒè¯­è¨€</li>
                    </ul>

                    <h3>2. æ ¹æ®å†…å®¹ç±»å‹é€‰æ‹©åˆ†å‰²å™¨</h3>
                    <ul>
                        <li>ä»£ç ï¼šä½¿ç”¨ä¸“é—¨çš„ CodeTextSplitter</li>
                        <li>Markdownï¼šä½¿ç”¨ MarkdownHeaderTextSplitter</li>
                        <li>ä¸­æ–‡æ–‡æœ¬ï¼šè°ƒæ•´ separators åŒ…å«ä¸­æ–‡æ ‡ç‚¹</li>
                    </ul>

                    <h3>3. åˆç†è®¾ç½® chunk_size å’Œ chunk_overlap</h3>
                    <ul>
                        <li>chunk_size é€šå¸¸è®¾ç½®ä¸º 500-1500</li>
                        <li>chunk_overlap è®¾ç½®ä¸º chunk_size çš„ 10-20%</li>
                        <li>æ ¹æ®æ£€ç´¢æ•ˆæœåŠ¨æ€è°ƒæ•´</li>
                    </ul>

                    <h3>4. ä¿ç•™å…ƒæ•°æ®</h3>
                    <ul>
                        <li>åˆ†å‰²åä¿ç•™åŸå§‹æ–‡æ¡£çš„å…ƒæ•°æ®</li>
                        <li>æ·»åŠ  chunk_id å’Œ chunk_index</li>
                        <li>æ–¹ä¾¿åç»­è¿½è¸ªå’Œå»é‡</li>
                    </ul>

                    <h3>5. æµ‹è¯•åˆ†å‰²æ•ˆæœ</h3>
                    <ul>
                        <li>æ£€æŸ¥åˆ†å‰²ç‚¹æ˜¯å¦åˆç†</li>
                        <li>éªŒè¯é‡å æ˜¯å¦æœ‰æ•ˆ</li>
                        <li>ç¡®ä¿æ²¡æœ‰æˆªæ–­é‡è¦ä¿¡æ¯</li>
                    </ul>
                </div>

                <h2>å¸¸è§é—®é¢˜</h2>

                <div class="warning" data-label="é—®é¢˜ï¼šå•å¥è¿‡é•¿">
                    <strong>é—®é¢˜</strong>ï¼šä¸€ä¸ªå¥å­è¶…è¿‡ chunk_size æ€ä¹ˆåŠï¼Ÿ
                    <br><br>
                    <strong>è§£å†³</strong>ï¼šä½¿ç”¨ RecursiveCharacterTextSplitterï¼Œå®ƒä¼šå°è¯•ç”¨æ›´å°çš„åˆ†éš”ç¬¦ï¼ˆå¦‚ç©ºæ ¼ã€æ ‡ç‚¹ï¼‰æ¥åˆ†å‰²ã€‚
                </div>

                <div class="warning" data-label="é—®é¢˜ï¼šä¸¢å¤±ä¸Šä¸‹æ–‡">
                    <strong>é—®é¢˜</strong>ï¼šåˆ†å‰²åçš„å—ç¼ºå°‘å¿…è¦ä¸Šä¸‹æ–‡ã€‚
                    <br><br>
                    <strong>è§£å†³</strong>ï¼šå¢åŠ  chunk_overlapï¼Œæˆ–è€ƒè™‘ä½¿ç”¨ Parent Document Retrieverã€‚
                </div>

                <div class="warning" data-label="é—®é¢˜ï¼šä¸­æ–‡åˆ†å‰²æ•ˆæœå·®">
                    <strong>é—®é¢˜</strong>ï¼šä¸­æ–‡æ–‡æœ¬åˆ†å‰²æ•ˆæœä¸å¥½ã€‚
                    <br><br>
                    <strong>è§£å†³</strong>ï¼šè°ƒæ•´ separators åŒ…å«ä¸­æ–‡æ ‡ç‚¹ç¬¦å·ï¼š["\n\n", "\n", "ã€‚", "ï¼", "ï¼Ÿ", "ï¼Œ", " ", ""]
                </div>

                <div class="exercise-section">
                    <h3>âœï¸ ç»ƒä¹ é¢˜</h3>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">é€‰æ‹©é¢˜</span>
                            1. ä»¥ä¸‹å“ªä¸ªæ˜¯ LangChain æ¨èçš„é»˜è®¤æ–‡æœ¬åˆ†å‰²å™¨ï¼Ÿ
                        </div>
                        <div class="options">
                            <div class="option">A. CharacterTextSplitter</div>
                            <div class="option correct-option">B. RecursiveCharacterTextSplitter</div>
                            <div class="option">C. SemanticTextSplitter</div>
                            <div class="option">D. MarkdownTextSplitter</div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">é€‰æ‹©é¢˜</span>
                            2. chunk_overlap çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
                        </div>
                        <div class="options">
                            <div class="option">A. æ§åˆ¶æ–‡æœ¬å—çš„å¤§å°</div>
                            <div class="option">B. è®¾ç½®åˆ†éš”ç¬¦åˆ—è¡¨</div>
                            <div class="option correct-option">C. åœ¨ç›¸é‚»å—ä¹‹é—´åˆ›å»ºé‡å ï¼Œé¿å…ä¸¢å¤±ä¸Šä¸‹æ–‡</div>
                            <div class="option">D. é™åˆ¶åˆ†å‰²çš„å—æ•°é‡</div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">é€‰æ‹©é¢˜</span>
                            3. å“ªç§åˆ†å‰²å™¨éœ€è¦ä½¿ç”¨åµŒå…¥æ¨¡å‹ï¼Ÿ
                        </div>
                        <div class="options">
                            <div class="option">A. RecursiveCharacterTextSplitter</div>
                            <div class="option">B. CharacterTextSplitter</div>
                            <div class="option correct-option">C. SemanticTextSplitter</div>
                            <div class="option">D. PythonCodeTextSplitter</div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">ä»£ç å¡«ç©º</span>
                            4. è¡¥å…¨ä»£ç ï¼šåˆ›å»ºä¸€ä¸ªé€‚ç”¨äºä¸­æ–‡æ–‡æœ¬çš„åˆ†å‰²å™¨
                        </div>
                        <div class="code-block">
                            <div class="code-header">
                                <span class="code-language">python</span>
                                <button class="copy-btn">å¤åˆ¶</button>
                            </div>
                            <pre><code class="language-python">from langchain_text_splitters import RecursiveCharacterTextSplitter

text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=1000,
    chunk_overlap=____,
    separators=["\n\n", "\n", "ã€‚", "ï¼", "ï¼Ÿ", "____", ""]
)</code></pre>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">ç¼–ç¨‹é¢˜</span>
                            5. åˆ›å»ºä¸€ä¸ªåˆ†å‰²å™¨ï¼Œå°† PDF æ–‡æ¡£åˆ†å‰²æˆå—ï¼Œè¦æ±‚ï¼šæ¯ä¸ªå— 800 å­—ç¬¦ï¼Œé‡å  150 å­—ç¬¦ï¼Œä¿ç•™é¡µç å…ƒæ•°æ®
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-title">
                            <span class="question-type">åœºæ™¯é¢˜</span>
                            6. ä½ æ­£åœ¨ä¸ºä¸€ä¸ªæ³•å¾‹æ–‡æ¡£åº“æ„å»º RAG ç³»ç»Ÿã€‚è¿™äº›æ–‡æ¡£æœ‰ä¸¥æ ¼çš„ç« èŠ‚ç»“æ„ï¼Œæ¯ä¸ªæ¡æ¬¾éƒ½å¾ˆé‡è¦ã€‚ä½ ä¼šå¦‚ä½•è®¾è®¡åˆ†å‰²ç­–ç•¥ï¼Ÿ
                        </div>
                    </div>
                </div>

                <div class="chapter-nav">
                    <a href="07-document-loaders.html">â† ä¸Šä¸€ç« ï¼šæ–‡æ¡£åŠ è½½</a>
                    <a href="09-output-parsers.html" class="next">ä¸‹ä¸€ç« ï¼šè¾“å‡ºè§£æ â†’</a>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script src="../assets/js/main.js"></script>
</body>
</html>