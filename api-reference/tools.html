<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥å…· API - LangChain 1.0</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body class="chapter-api-tools">
    <button class="theme-toggle">ğŸŒ“</button>
    <button class="mobile-menu-btn" onclick="toggleSidebar()">â˜°</button>

    <div class="app-container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1><a href="../index.html" style="color: white; text-decoration: none;">LangChain 1.0</a></h1>
                <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem; margin-top: 5px;">API å‚è€ƒ</p>
            </div>
            <div class="sidebar-nav"></div>
        </nav>

        <main class="main-content">
            <div class="content">
                <h1>å·¥å…· API</h1>
                <p class="subtitle">å·¥å…·å®šä¹‰ä¸ StructuredTool</p>

                <div class="api-nav">
                    <a href="#overview" class="api-nav-link">æ¦‚è¿°</a>
                    <a href="#decorator" class="api-nav-link">è£…é¥°å™¨</a>
                    <a href="#classes" class="api-nav-link">æ ¸å¿ƒç±»</a>
                    <a href="#examples" class="api-nav-link">ç¤ºä¾‹</a>
                </div>

                <h2 id="overview">æ¦‚è¿°</h2>
                <p>å·¥å…·æ˜¯ Agent å¯ä»¥è°ƒç”¨çš„å‡½æ•°ã€‚LangChain æä¾›äº†å¤šç§æ–¹å¼æ¥å®šä¹‰å’Œä½¿ç”¨å·¥å…·ï¼ŒåŒ…æ‹¬è£…é¥°å™¨ã€ç±»å®šä¹‰å’Œè¿è¡Œæ—¶ç»‘å®šã€‚</p>

                <pre class="mermaid">graph TD
    A[BaseTool] --> B[StructuredTool]
    A --> C[Tool]
    A --> D[InjectTool]

    E[@tool è£…é¥°å™¨] --> F[è‡ªåŠ¨ç”Ÿæˆå·¥å…·]
    F --> B

    B --> G[Agent å¯è°ƒç”¨]
    C --> G

    style A fill:#e1f5fe
    style B fill:#c8e6c9</code></pre>

                <h2 id="decorator">@tool è£…é¥°å™¨</h2>

                <div class="api-section">
                    <h3 class="api-title">tool</h3>
                    <p class="api-description">å°†å‡½æ•°è½¬æ¢ä¸º LangChain å·¥å…·çš„è£…é¥°å™¨ã€‚</p>

                    <div class="api-signature">
                        <pre><code class="language-python">from langchain_core.tools import tool

def tool(
    *args: Union[str, Callable],
    name: Optional[str] = None,
    description: Optional[str] = None,
    return_direct: bool = False,
    args_schema: Optional[Type[BaseModel]] = None,
    infer_schema: bool = True,
) -> Union[Tool, Callable[..., Tool]]:
    """
    å·¥å…·è£…é¥°å™¨

    Args:
        *args: å‡½æ•°æˆ–å­—ç¬¦ä¸²
            - å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œåˆ™è£…é¥°è¯¥å‡½æ•°
            - å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä½œä¸ºå·¥å…·åç§°
        name: å·¥å…·åç§°ï¼ˆé»˜è®¤ä½¿ç”¨å‡½æ•°åï¼‰
        description: å·¥å…·æè¿°ï¼ˆé»˜è®¤ä½¿ç”¨å‡½æ•°æ–‡æ¡£å­—ç¬¦ä¸²ï¼‰
        return_direct: æ˜¯å¦ç›´æ¥è¿”å›ç»“æœ
        args_schema: å‚æ•°æ¨¡å¼ï¼ˆPydantic æ¨¡å‹ï¼‰
        infer_schema: æ˜¯å¦è‡ªåŠ¨æ¨æ–­å‚æ•°æ¨¡å¼

    Returns:
        Tool å®ä¾‹æˆ–è£…é¥°å™¨

    Example:
        @tool
        def search(query: str) -> str:
            '''æœç´¢ç½‘ç»œ'''
            return "æœç´¢ç»“æœ"

        @tool("custom_name", description="è‡ªå®šä¹‰æè¿°")
        def my_function(x: int) -> int:
            return x * 2
    """</code></pre>
                    </div>

                    <h4>ä½¿ç”¨ç¤ºä¾‹</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-language">python</span>
                            <button class="copy-btn">å¤åˆ¶</button>
                        </div>
                        <pre><code class="language-python">from langchain_core.tools import tool

# åŸºç¡€ä½¿ç”¨
@tool
def search(query: str) -> str:
    """æœç´¢ç½‘ç»œ"""
    return f"å…³äº {query} çš„æœç´¢ç»“æœ"

# è‡ªå®šä¹‰åç§°å’Œæè¿°
@tool("calculate", description="æ‰§è¡Œæ•°å­¦è®¡ç®—")
def calculator(expression: str) -> str:
    """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼"""
    try:
        return str(eval(expression))
    except:
        return "è®¡ç®—é”™è¯¯"

# å¸¦å‚æ•°éªŒè¯
from pydantic import BaseModel, Field

class SearchInput(BaseModel):
    query: str = Field(description="æœç´¢æŸ¥è¯¢")
    max_results: int = Field(default=5, description="æœ€å¤§ç»“æœæ•°")

@tool("search_advanced", args_schema=SearchInput)
def advanced_search(query: str, max_results: int = 5) -> str:
    """é«˜çº§æœç´¢"""
    return f"æ‰¾åˆ° {max_results} æ¡å…³äº {query} çš„ç»“æœ"

# ç›´æ¥è¿”å›
@tool(return_direct=True)
def final_answer(answer: str) -> str:
    """è¿”å›æœ€ç»ˆç­”æ¡ˆ"""
    return answer

# æŸ¥çœ‹å·¥å…·ä¿¡æ¯
print(search.name)        # "search"
print(search.description)  # "æœç´¢ç½‘ç»œ"
print(search.args_schema)  # å‚æ•°æ¨¡å¼</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3 class="api-title">structured_tool</h3>
                    <p class="api-description">åˆ›å»ºç»“æ„åŒ–å·¥å…·çš„è£…é¥°å™¨ã€‚</p>

                    <div class="api-signature">
                        <pre><code class="language-python">from langchain_core.tools import structured_tool

def structured_tool(
    *args: Union[str, Callable],
    name: Optional[str] = None,
    description: Optional[str] = None,
    return_direct: bool = False,
) -> Union[StructuredTool, Callable[..., StructuredTool]]:
    """
    ç»“æ„åŒ–å·¥å…·è£…é¥°å™¨

    ä¸ tool çš„åŒºåˆ«åœ¨äºæ€»æ˜¯è¿”å› StructuredToolï¼Œ
    æ— è®ºå‡½æ•°å‚æ•°æ•°é‡å¦‚ä½•

    Args:
        *args: å‡½æ•°æˆ–å­—ç¬¦ä¸²
        name: å·¥å…·åç§°
        description: å·¥å…·æè¿°
        return_direct: æ˜¯å¦ç›´æ¥è¿”å›

    Returns:
        StructuredTool å®ä¾‹æˆ–è£…é¥°å™¨
    """</code></pre>
                    </div>
                </div>

                <h2 id="classes">æ ¸å¿ƒç±»</h2>

                <div class="api-section">
                    <h3 class="api-title">BaseTool</h3>
                    <p class="api-description">æ‰€æœ‰å·¥å…·çš„æŠ½è±¡åŸºç±»ã€‚</p>

                    <div class="api-signature">
                        <pre><code class="language-python">from langchain_core.tools import BaseTool

class BaseTool(Serializable, Runnable[ToolInput, ToolOutput]):
    """å·¥å…·åŸºç±»"""

    name: str = ""
    """å·¥å…·åç§°ï¼ˆåœ¨ Agent è°ƒç”¨æ—¶ä½¿ç”¨ï¼‰"""

    description: str = ""
    """å·¥å…·æè¿°ï¼ˆä¼ é€’ç»™ LLMï¼‰"""

    args_schema: Type[BaseModel] = BaseModel
    """å‚æ•°éªŒè¯æ¨¡å¼"""

    return_direct: bool = False
    """æ˜¯å¦ç›´æ¥è¿”å›ç»“æœè€Œä¸ç»§ç»­æ¨ç†"""

    # æ ¸å¿ƒæ–¹æ³•
    @abstractmethod
    def _run(
        self,
        *args: Any,
        **kwargs: Any,
    ) -> Any:
        """
        åŒæ­¥è¿è¡Œå·¥å…·

        Args:
            *args: ä½ç½®å‚æ•°
            **kwargs: å…³é”®å­—å‚æ•°

        Returns:
            å·¥å…·æ‰§è¡Œç»“æœ
        """

    async def _arun(
        self,
        *args: Any,
        **kwargs: Any,
    ) -> Any:
        """
        å¼‚æ­¥è¿è¡Œå·¥å…·ï¼ˆå¯é€‰å®ç°ï¼‰

        é»˜è®¤è°ƒç”¨ _run
        """
        return await asyncio.to_thread(self._run, *args, **kwargs)

    # Runnable æ¥å£å®ç°
    def invoke(
        self,
        input: Union[str, Dict[str, Any]],
        config: Optional[RunnableConfig] = None,
        **kwargs: Any,
    ) -> Any:
        """
        è°ƒç”¨å·¥å…·ï¼ˆRunnable æ¥å£ï¼‰

        Args:
            input: å·¥å…·è¾“å…¥ï¼ˆå­—ç¬¦ä¸²æˆ–å­—å…¸ï¼‰
            config: è¿è¡Œé…ç½®
            **kwargs: é¢å¤–å‚æ•°

        Returns:
            å·¥å…·ç»“æœ
        """

    def run(
        self,
        tool_input: Union[str, Dict[str, Any]],
        verbose: Optional[bool] = None,
        start_color: Optional[str] = "green",
        color: Optional[str] = "green",
        **kwargs: Any,
    ) -> Any:
        """
        è¿è¡Œå·¥å…·ï¼ˆå…¼å®¹æ–¹æ³•ï¼‰

        Args:
            tool_input: å·¥å…·è¾“å…¥
            verbose: æ˜¯å¦æ‰“å°è¯¦ç»†æ—¥å¿—
            start_color: æ—¥å¿—é¢œè‰²
            color: è¾“å‡ºé¢œè‰²
            **kwargs: é¢å¤–å‚æ•°

        Returns:
            å·¥å…·ç»“æœ
        """</code></pre>
                    </div>

                    <h4>åˆ›å»ºè‡ªå®šä¹‰å·¥å…·</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-language">python</span>
                            <button class="copy-btn">å¤åˆ¶</button>
                        </div>
                        <pre><code class="language-python">from langchain_core.tools import BaseTool
from typing import Type, Optional
from pydantic import BaseModel, Field

class SearchInput(BaseModel):
    query: str = Field(description="æœç´¢æŸ¥è¯¢")

class CustomSearchTool(BaseTool):
    name = "custom_search"
    description = "è‡ªå®šä¹‰æœç´¢å·¥å…·"
    args_schema: Type[BaseModel] = SearchInput

    def _run(self, query: str) -> str:
        """åŒæ­¥æ‰§è¡Œ"""
        return f"æœç´¢ç»“æœ: {query}"

    async def _arun(self, query: str) -> str:
        """å¼‚æ­¥æ‰§è¡Œ"""
        return f"å¼‚æ­¥æœç´¢ç»“æœ: {query}"

# ä½¿ç”¨
tool = CustomSearchTool()
result = tool.invoke({"query": "Python"})</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3 class="api-title">StructuredTool</h3>
                    <p class="api-description">æ”¯æŒç»“æ„åŒ–è¾“å…¥çš„å·¥å…·ã€‚</p>

                    <div class="api-signature">
                        <pre><code class="language-python">from langchain_core.tools import StructuredTool

class StructuredTool(BaseTool):
    """ç»“æ„åŒ–å·¥å…·"""

    func: Union[
        Callable[..., Any],
        Callable[..., Awaitable[Any]]
    ]
    """åº•å±‚å‡½æ•°"""

    coroutine: Optional[Callable[..., Awaitable[Any]]] = None
    """å¼‚æ­¥å‡½æ•°ï¼ˆå¦‚æœä¸ func ä¸åŒï¼‰"""

    # æ„é€ æ–¹æ³•
    def __init__(
        self,
        name: str,
        description: str,
        func: Callable[..., Any],
        args_schema: Type[BaseModel],
        return_direct: bool = False,
        coroutine: Optional[Callable[..., Awaitable[Any]]] = None,
        **kwargs: Any,
    ):
        """
        åˆå§‹åŒ–ç»“æ„åŒ–å·¥å…·

        Args:
            name: å·¥å…·åç§°
            description: å·¥å…·æè¿°
            func: åŒæ­¥å‡½æ•°
            args_schema: å‚æ•°æ¨¡å¼
            return_direct: æ˜¯å¦ç›´æ¥è¿”å›
            coroutine: å¼‚æ­¥å‡½æ•°ï¼ˆå¯é€‰ï¼‰
            **kwargs: é¢å¤–å‚æ•°
        """</code></pre>
                    </div>

                    <h4>åˆ›å»ºæ–¹å¼</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-language">python</span>
                            <button class="copy-btn">å¤åˆ¶</button>
                        </div>
                        <pre><code class="language-python">from langchain_core.tools import StructuredTool
from pydantic import BaseModel, Field

class CalculatorInput(BaseModel):
    expression: str = Field(description="æ•°å­¦è¡¨è¾¾å¼")

def calculate(expression: str) -> str:
    """è®¡ç®—è¡¨è¾¾å¼"""
    try:
        return str(eval(expression))
    except:
        return "é”™è¯¯"

# æ–¹å¼1: ç›´æ¥åˆ›å»º
calculator = StructuredTool.from_function(
    func=calculate,
    name="calculator",
    description="æ‰§è¡Œæ•°å­¦è®¡ç®—",
    args_schema=CalculatorInput
)

# æ–¹å¼2: ä½¿ç”¨ from_function ç±»æ–¹æ³•
calculator = StructuredTool.from_function(
    calculate,
    name="calculator",
    description="æ‰§è¡Œæ•°å­¦è®¡ç®—",
    args_schema=CalculatorInput
)

# æ–¹å¼3: ä½¿ç”¨è£…é¥°å™¨
from langchain_core.tools import tool

@tool
def calculator_tool(expression: str) -> str:
    """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼"""
    return str(eval(expression))</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3 class="api-title">Tool</h3>
                    <p class="api-description">ç®€å•å·¥å…·ï¼Œæ¥å—å•ä¸ªå­—ç¬¦ä¸²è¾“å…¥ã€‚</p>

                    <div class="api-signature">
                        <pre><code class="language-python">from langchain_core.tools import Tool

class Tool(BaseTool):
    """ç®€å•å·¥å…·ï¼ˆå•å­—ç¬¦ä¸²è¾“å…¥ï¼‰"""

    func: Callable[[str], Any]
    """å·¥å…·å‡½æ•°"""

    # æ„é€ æ–¹æ³•
    def __init__(
        self,
        name: str,
        func: Callable[[str], Any],
        description: str,
        return_direct: bool = False,
        **kwargs: Any,
    ):
        """
        åˆå§‹åŒ–ç®€å•å·¥å…·

        Args:
            name: å·¥å…·åç§°
            func: å·¥å…·å‡½æ•°ï¼ˆæ¥å—å•ä¸ªå­—ç¬¦ä¸²ï¼‰
            description: å·¥å…·æè¿°
            return_direct: æ˜¯å¦ç›´æ¥è¿”å›
            **kwargs: é¢å¤–å‚æ•°
        """</code></pre>
                    </div>

                    <h4>åˆ›å»ºæ–¹å¼</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-language">python</span>
                            <button class="copy-btn">å¤åˆ¶</button>
                        </div>
                        <pre><code class="language-python">from langchain_core.tools import Tool

# æ–¹å¼1: ç›´æ¥å®ä¾‹åŒ–
search_tool = Tool(
    name="search",
    func=lambda query: f"æœç´¢ç»“æœ: {query}",
    description="æœç´¢ç½‘ç»œ"
)

# æ–¹å¼2: ä½¿ç”¨ from_function
def search_func(query: str) -> str:
    return f"æœç´¢ç»“æœ: {query}"

search_tool = Tool.from_function(
    func=search_func,
    name="search",
    description="æœç´¢ç½‘ç»œ"
)

# æ–¹å¼3: ä½¿ç”¨è£…é¥°å™¨
@tool
def search(query: str) -> str:
    """æœç´¢ç½‘ç»œ"""
    return f"æœç´¢ç»“æœ: {query}"</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3 class="api-title">InjectTool</h3>
                    <p class="api-description">æ³¨å…¥å·¥å…·ï¼Œç›´æ¥è¿”å›é¢„è®¾å€¼è€Œä¸æ‰§è¡Œã€‚</p>

                    <div class="api-signature">
                        <pre><code class="language-python">from langchain_core.tools import InjectTool

class InjectTool(BaseTool):
    """æ³¨å…¥å·¥å…·"""

    value: Any
    """è¦è¿”å›çš„é¢„è®¾å€¼"""

    def _run(self, *args: Any, **kwargs: Any) -> Any:
        """ç›´æ¥è¿”å›é¢„è®¾å€¼"""
        return self.value</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3 class="api-title">ToolInvocation</h3>
                    <p class="api-description">å·¥å…·è°ƒç”¨è®°å½•ã€‚</p>

                    <div class="api-signature">
                        <pre><code class="language-python">from langchain_core.tools import ToolInvocation

class ToolInvocation(TypedDict):
    """å·¥å…·è°ƒç”¨"""

    name: str
    """å·¥å…·åç§°"""

    id: Optional[str]
    """è°ƒç”¨ ID"""

    args: Dict[str, Any]
    """å·¥å…·å‚æ•°"""</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3 class="api-title">tool è£…é¥°å™¨å‡½æ•°</h3>
                    <p class="api-description">ä¾¿æ·çš„å‡½æ•°å¼å·¥å…·åˆ›å»ºã€‚</p>

                    <div class="api-signature">
                        <pre><code class="language-python">from langchain_core.tools import tool

# æ— å‚æ•°
@tool
def simple_tool(input: str) -> str:
    """ç®€å•å·¥å…·"""
    return input.upper()

# å¸¦åç§°
@tool("my_tool")
def named_tool(input: str) -> str:
    """å‘½åå·¥å…·"""
    return input.upper()

# å¸¦æè¿°
@tool(description="è¿™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰å·¥å…·")
def described_tool(input: str) -> str:
    """å¸¦æè¿°çš„å·¥å…·"""
    return input.upper()

# å®Œæ•´å‚æ•°
@tool(
    name="complete_tool",
    description="å®Œæ•´çš„å·¥å…·å®šä¹‰",
    return_direct=True
)
def complete(input: str) -> str:
    """å®Œæ•´å·¥å…·"""
    return input.upper()

# ä½¿ç”¨å‚æ•°æ¨¡å¼
from pydantic import BaseModel

class InputSchema(BaseModel):
    text: str
    times: int = 1

@tool(args_schema=InputSchema)
def complex_tool(text: str, times: int = 1) -> str:
    """å¤æ‚å·¥å…·"""
    return text * times</code></pre>
                    </div>
                </div>

                <h2 id="examples">ä½¿ç”¨ç¤ºä¾‹</h2>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-language">python</span>
                        <button class="copy-btn">å¤åˆ¶</button>
                    </div>
                    <pre><code class="language-python">from langchain_core.tools import tool, Tool, StructuredTool
from langchain_openai import ChatOpenAI
from langchain.agents import create_tool_calling_agent, AgentExecutor
from langchain_core.prompts import ChatPromptTemplate

# ========== ç¤ºä¾‹1: ä½¿ç”¨ @tool è£…é¥°å™¨ ==========

@tool
def search(query: str) -> str:
    """æœç´¢ç½‘ç»œè·å–ä¿¡æ¯"""
    return f"å…³äº {query} çš„æœç´¢ç»“æœ"

@tool
def calculator(expression: str) -> str:
    """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼"""
    try:
        return str(eval(expression))
    except:
        return "è®¡ç®—é”™è¯¯"

# ========== ç¤ºä¾‹2: è‡ªå®šä¹‰å·¥å…·ç±» ==========

from langchain_core.tools import BaseTool
from pydantic import BaseModel, Field

class WeatherInput(BaseModel):
    city: str = Field(description="åŸå¸‚åç§°")
    unit: str = Field(default="celsius", description="æ¸©åº¦å•ä½")

class WeatherTool(BaseTool):
    name = "get_weather"
    description = "è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”"
    args_schema = WeatherInput

    def _run(self, city: str, unit: str = "celsius") -> str:
        return f"{city} ä»Šå¤©æ˜¯æ™´å¤©ï¼Œæ¸©åº¦ 25Â°{unit}"

    async def _arun(self, city: str, unit: str = "celsius") -> str:
        # æ¨¡æ‹Ÿ API è°ƒç”¨
        return f"{city}ï¼ˆå¼‚æ­¥æŸ¥è¯¢ï¼‰ä»Šå¤©æ™´å¤©ï¼Œ25Â°{unit}"

weather = WeatherTool()

# ========== ç¤ºä¾‹3: StructuredTool ==========

from pydantic import BaseModel

class EmailInput(BaseModel):
    to: str = Field(description="æ”¶ä»¶äººé‚®ç®±")
    subject: str = Field(description="é‚®ä»¶ä¸»é¢˜")
    body: str = Field(description="é‚®ä»¶æ­£æ–‡")

def send_email(to: str, subject: str, body: str) -> str:
    """å‘é€é‚®ä»¶"""
    # å®é™…å®ç°ä¼šè°ƒç”¨é‚®ä»¶ API
    return f"é‚®ä»¶å·²å‘é€ç»™ {to}"

email_tool = StructuredTool.from_function(
    func=send_email,
    name="send_email",
    description="å‘é€é‚®ä»¶",
    args_schema=EmailInput
)

# ========== ç¤ºä¾‹4: Toolï¼ˆç®€å•è¾“å…¥ï¼‰ ==========

simple_search = Tool(
    name="simple_search",
    func=lambda q: f"æœç´¢ {q}",
    description="ç®€å•æœç´¢å·¥å…·"
)

# ========== ç¤ºä¾‹5: ä¸ Agent é›†æˆ ==========

tools = [search, calculator, weather, email_tool]

llm = ChatOpenAI(model="gpt-4o")

prompt = ChatPromptTemplate.from_messages([
    ("system", "ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹"),
    ("human", "{input}"),
    ("placeholder", "{agent_scratchpad}"),
])

agent = create_tool_calling_agent(llm, tools, prompt)
agent_executor = AgentExecutor(
    agent=agent,
    tools=tools,
    verbose=True
)

result = agent_executor.invoke({
    "input": "åŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿé¡ºä¾¿è®¡ç®— 25 * 4"
})

# ========== ç¤ºä¾‹6: å¼‚æ­¥å·¥å…· ==========

import asyncio

@tool
async def async_search(query: str) -> str:
    """å¼‚æ­¥æœç´¢"""
    await asyncio.sleep(0.1)
    return f"å¼‚æ­¥æœç´¢ç»“æœ: {query}"

# ========== ç¤ºä¾‹7: ç›´æ¥è°ƒç”¨å·¥å…· ==========

# æ–¹å¼1: invoke
result = search.invoke("Python")

# æ–¹å¼2: ç›´æ¥è°ƒç”¨
result = search.func("Python")

# æ–¹å¼3: run
result = search.run("Python")</code></pre>
                </div>

                <h2>å†…ç½®å·¥å…·</h2>

                <div class="api-table">
                    <tr>
                        <th>æ¨¡å—</th>
                        <th>å·¥å…·</th>
                        <th>æè¿°</th>
                    </tr>
                    <tr>
                        <td>langchain_community.tools</td>
                        <td>Shell</td>
                        <td>æ‰§è¡Œ shell å‘½ä»¤</td>
                    </tr>
                    <tr>
                        <td>langchain_community.tools</td>
                        <td>PythonREPL</td>
                        <td>æ‰§è¡Œ Python ä»£ç </td>
                    </tr>
                    <tr>
                        <td>langchain_community.tools</td>
                        <td>RequestsGetTool</td>
                        <td>HTTP GET è¯·æ±‚</td>
                    </tr>
                    <tr>
                        <td>langchain_community.tools</td>
                        <td>RequestsPostTool</td>
                        <td>HTTP POST è¯·æ±‚</td>
                    </tr>
                    <tr>
                        <td>langchain_community.tools</td>
                        <td>SerpAPIWrapper</td>
                        <td>Google æœç´¢</td>
                    </tr>
                    <tr>
                        <td>langchain_community.tools</td>
                        <td>WikipediaQueryRun</td>
                        <td>Wikipedia æŸ¥è¯¢</td>
                    </tr>
                    <tr>
                        <td>langchain_community.tools</td>
                        <td>Shell</td>
                        <td>æ‰§è¡Œå‘½ä»¤</td>
                    </tr>
                </div>

                <h2>ç›¸å…³ API</h2>
                <ul>
                    <li><a href="agents.html">Agents API</a></li>
                    <li><a href="chat-models.html">Chat Models API</a> - bind_tools æ–¹æ³•</li>
                    <li><a href="../05-tools.html">æ•™ç¨‹ï¼šå·¥å…·ç³»ç»Ÿ</a></li>
                </ul>

                <div class="chapter-nav">
                    <a href="agents.html">â† Agents API</a>
                    <a href="document-loaders.html" class="next">Document Loaders API â†’</a>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script src="../assets/js/main.js"></script>
</body>
</html>
